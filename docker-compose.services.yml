version: "3.9"
services:
  service1:
    container_name: service1
    build:
      context: ./service1
    volumes:
      - ./service1:/service1
    environment:
      - RABBITMQ_HOST=rabbitmq
      - RABBITMQ_PORT=5672
    networks:
      - app-network

  service2:
    container_name: service2
    build:
      context: ./service2
    volumes:
      - ./service2:/service2
    environment:
      - RABBITMQ_HOST=rabbitmq
      - RABBITMQ_PORT=5672
    networks:
      - app-network

networks:
  app-network:
    external: true
