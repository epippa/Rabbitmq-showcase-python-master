## Steps to generate traces and run the analyzer (PowerShell)

### Step 1 – generate traffic in the RabbitMQ microservice
From PowerShell, inside the RabbitMQ showcase repository root:

```
cd D:\_EMANUELE\UniBz\Rabbitmq-showcase-python-master

Invoke-WebRequest -Uri "http://localhost:8000/service1" -Method POST -ContentType "application/json" -Body '{"id": 1, "user_id": 2}'
Invoke-WebRequest -Uri "http://localhost:8000/service2" -Method POST -ContentType "application/json" -Body '{"id": 2, "user_id": 3}'
```

(If you receive `200 OK` responses like before, you can proceed.)

### Step 2 – export the Jaeger traces into the tool repo
Now move to the analysis project root and download the updated trace export:

```
cd D:\_EMANUELE\UniBz\Event_Driven_Catalog
curl.exe -s "http://localhost:16686/api/traces?service=api&limit=5000" -o analysis\rabbitmq_showcase_traces.json
```

This JSON already contains the wrapper object with `data: [...]`, which the analyzer now understands by default.

### Step 3 – run the analyzer with the new JSON
Still from the analysis repo root, run:

```
python -m analysis.event_probabilities analysis\rabbitmq_showcase_traces.json 5000 --queue-source="service1:api,service2:api" --csv
```
